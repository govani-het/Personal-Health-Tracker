<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password - HealthHub</title>
    <link rel="stylesheet" href="{% static 'css/forgetPassword.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="reset-container">
        <!-- Image Panel -->
        <div class="image-panel">
            <img src="{% static 'image/forgetPassword.jpg' %}" alt="Person doing yoga pose">
        </div>

        <!-- Form Panel -->
        <div class="form-panel">
            <div class="form-content">
                <h2 class="form-title">Check Your Email</h2>
                <p class="form-subtitle">
                    We have sent a 6-digit verification code to your registered email ID.
                </p>
                <h4 id="message"></h4>
                <form id="otp-form">
                    {% csrf_token %}
                    <label class="otp-label">Enter Verification Code</label>
                    <div class="otp-inputs" id="otp-container">
                        <input type="text" name="otp-digit-1" class="otp-input" maxlength="1" required autocomplete="off">
                        <input type="text" name="otp-digit-2" class="otp-input" maxlength="1" required autocomplete="off">
                        <input type="text" name="otp-digit-3" class="otp-input" maxlength="1" required autocomplete="off">
                        <input type="text" name="otp-digit-4" class="otp-input" maxlength="1" required autocomplete="off">
                        <input type="text" name="otp-digit-5" class="otp-input" maxlength="1" required autocomplete="off">
                        <input type="text" name="otp-digit-6" class="otp-input" maxlength="1" required autocomplete="off">
                    </div>
                    <input type="hidden" name="otp" id="otp-full">
                    
                    <button type="submit" class="btn" id="verify-btn">Verify & Proceed</button>
                </form>
                
                <div class="separator"></div>

                <div class="motivation-quote">
                    <p>"The only bad workout is the one that didn't happen."</p>
                </div>

                <p class="back-link">Remembered your password? <a href="/">Back to Login</a></p>
            </div>
        </div>
    </div>

    <!-- The Modal Dialog for New Password -->
    <div class="modal-overlay" id="password-modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Set New Password</h2>
            <p>Your new password must be strong and secure.</p>
            <form id="new-password-form">
                <h4 id="error-message"></h4>
                <div class="input-group">
                    <label for="new-password">New Password</label>
                    <input type="password" id="new-password" placeholder="••••••••" required>
                </div>
                <div class="input-group">
                    <label for="confirm-password">Confirm New Password</label>
                    <input type="password" id="confirm-password" placeholder="••••••••" required>
                </div>
                <button type="button" onclick="updatePassword()" class="btn">Update Password</button>
            </form>
        </div>
    </div>

    <script src="{% static 'js/forgetPassword.js' %}"></script>
</body>
</html>